/*
 * ads1115.h
 *
 *  Created on: Sep 3, 2024
 *      Author: Edward
 */

#ifndef ADS1115_H
#define ADS1115_H

#include "i2c.h"
#include <math.h>
#include <inttypes.h>
#include "ads1115_defs.h"

#define _DEVICE_ADDRESS                0x48
#define _BUS_HANDLER                   &hi2c1

enum PGA_ADS1115
{
	PGA_FSR__6_144V = _REG_ADS1115_CONFIG_PGA_FSR__6_144V,
	PGA_FSR__4_096V = _REG_ADS1115_CONFIG_PGA_FSR__4_096V,
	PGA_FSR__2_048V = _REG_ADS1115_CONFIG_PGA_FSR__2_048V,
	PGA_FSR__1_024V = _REG_ADS1115_CONFIG_PGA_FSR__1_024V,
	PGA_FSR__0_512V = _REG_ADS1115_CONFIG_PGA_FSR__0_512V,
	PGA_FSR__0_256V = _REG_ADS1115_CONFIG_PGA_FSR__0_256V
};

enum SPS_ADS1115
{
	DR_8_SPS = _REG_ADS1115_CONFIG_DR_8_SPS,    
	DR_16_SPS = _REG_ADS1115_CONFIG_DR_16_SPS, 
	DR_32_SPS = _REG_ADS1115_CONFIG_DR_32_SPS, 
	DR_64_SPS = _REG_ADS1115_CONFIG_DR_64_SPS, 
	DR_128_SPS = _REG_ADS1115_CONFIG_DR_128_SPS,
	DR_250_SPS = _REG_ADS1115_CONFIG_DR_250_SPS,
	DR_475_SPS = _REG_ADS1115_CONFIG_DR_475_SPS,
	DR_860_SPS = _REG_ADS1115_CONFIG_DR_860_SPS
};

enum CHANNEL_ADC_ADS1115
{
	AIN0 = _REG_ADS1115_CONFIG_MUX_AINP_AIN0_and_AINN_GND,
	AIN1 = _REG_ADS1115_CONFIG_MUX_AINP_AIN1_and_AINN_GND,
	AIN2 = _REG_ADS1115_CONFIG_MUX_AINP_AIN2_and_AINN_GND,
	AIN3 = _REG_ADS1115_CONFIG_MUX_AINP_AIN3_and_AINN_GND
};

typedef enum
{
	E_OK_ADC = 100,
	E_ERROR_ADC = 200,
}E_ADC_STATUS;

void ads1115_status(E_ADC_STATUS *error_adc);
float ads1115_get_read(uint16_t channel_adc, uint16_t pga_adc, uint8_t sps_adc);

#endif
